# Planning Document: skill-architect v7.0.1

## Meta

| Field | Value |
|-------|-------|
| Type | PATCH |
| From | v7.0.0 |
| To | v7.0.1 |
| Scope | Cosmetic fixes, no functional changes |
| Risk | None |

---

## Problem Statement

Self-test v7.0.0 выявил:

1. **Version drift** — 14+ файлов имеют футеры с v6.1.0/v6.2.0
2. **False negative в self-diagnostic.sh** — скрипт ищет `MANDATORY.*Activation`, но SKILL.md использует `FIRST STEP — MANDATORY`
3. **SSOT violation** — self-diagnostic.md описывает секцию `MANDATORY: On Activation`, которой нет в SKILL.md

---

## Solution

### Option A: Обновить футеры + фикс скрипта ✅ SELECTED

Минимальные изменения, максимальная согласованность.

### Option B: Переименовать секцию в SKILL.md

Риск: может сломать понимание у тех, кто уже использует v7.0.0.

---

## Changes

### 1. Протоколы — обновить футеры (8 файлов)

| File | Old Footer | New Footer |
|------|------------|------------|
| P00-router.md | `v1.1.0 \| skill-architect v6.1.0` | `v1.1.0 \| skill-architect v7.0.1` |
| P01-activation.md | `v1.1.0 \| skill-architect v6.1.0` | `v1.1.0 \| skill-architect v7.0.1` |
| P02-config.md | `v1.1.0 \| skill-architect v6.1.0` | `v1.1.0 \| skill-architect v7.0.1` |
| P03-planning.md | `v1.1.0 \| skill-architect v6.1.0` | `v1.1.0 \| skill-architect v7.0.1` |
| P04-build.md | `v1.1.0 \| skill-architect v6.1.0` | `v1.1.0 \| skill-architect v7.0.1` |
| P06-delivery-skill.md | `v1.2.0 \| skill-architect v6.2.0` | `v1.2.0 \| skill-architect v7.0.1` |
| P07-delivery-docs.md | `v1.1.0 \| skill-architect v6.1.0` | `v1.1.0 \| skill-architect v7.0.1` |
| P08-scan.md | `v1.1.0 \| skill-architect v6.1.0` | `v1.1.0 \| skill-architect v7.0.1` |

### 2. Reference файлы — обновить футеры (13 файлов)

| File | Old Footer | New Footer |
|------|------------|------------|
| commands.md | `v1.0.0 \| skill-architect v6.1.0` | `v1.0.0 \| skill-architect v7.0.1` |
| docs-packaging.md | `v1.0.0 \| skill-architect v6.1.0` | `v1.0.0 \| skill-architect v7.0.1` |
| evaluations.md | `v1.0.0 \| skill-architect v6.1.0` | `v1.0.0 \| skill-architect v7.0.1` |
| naming-convention.md | `v1.0.0 \| skill-architect v6.1.0` | `v1.0.0 \| skill-architect v7.0.1` |
| packaging.md | `v1.0.0 \| skill-architect v6.1.0` | `v1.0.0 \| skill-architect v7.0.1` |
| planning-document.md | `v1.0.0 \| skill-architect v6.1.0` | `v1.0.0 \| skill-architect v7.0.1` |
| project-filters.md | `v1.0.0 \| skill-architect v6.1.0` | `v1.0.0 \| skill-architect v7.0.1` |
| project-import.md | `v1.0.0 \| skill-architect v6.1.0` | `v1.0.0 \| skill-architect v7.0.1` |
| project-mode.md | `v1.1.0 \| skill-architect v6.1.0` | `v1.1.0 \| skill-architect v7.0.1` |
| project-modules.md | `v1.0.0 \| skill-architect v6.1.0` | `v1.0.0 \| skill-architect v7.0.1` |
| self-diagnostic.md | `v2.0.0 \| skill-architect v6.1.0` | `v2.1.0 \| skill-architect v7.0.1` |
| ssot-check.md | `v1.0.0 \| skill-architect v6.1.0` | `v1.0.0 \| skill-architect v7.0.1` |
| workflow.md | `v1.2.0 \| skill-architect v6.1.0` | `v1.2.0 \| skill-architect v7.0.1` |

### 3. self-diagnostic.md — синхронизировать с SKILL.md (1 файл)

**Изменить строку 71:**
```
Old: □ MANDATORY: On Activation section
New: □ FIRST STEP — MANDATORY section
```

### 4. scripts/self-diagnostic.sh — фикс проверки (1 файл)

**Изменить строку ~107:**
```bash
Old: check "$(grep -q 'MANDATORY.*Activation' "$SKILL" && echo true)" "Has Activation instructions"
New: check "$(grep -q 'FIRST STEP.*MANDATORY' "$SKILL" && echo true)" "Has First Step instructions"
```

### 5. SKILL.md — bump версии (1 файл)

```
Old: description: "v7.0.0 | Protocol-Driven skill creation...
New: description: "v7.0.1 | Protocol-Driven skill creation...

Old: # Skill Architect v7.0.0
New: # Skill Architect v7.0.1

Old: *v7.0.0 "Unified Ecosystem"...
New: *v7.0.1 "Unified Ecosystem"...
```

### 6. README.md — bump версии (1 файл)

```
Old: # Skill Architect v7.0.0 "Unified Ecosystem"
New: # Skill Architect v7.0.1 "Unified Ecosystem"

Old: *Skill Architect v7.0.0 "Unified Ecosystem"*
New: *Skill Architect v7.0.1 "Unified Ecosystem"*
```

### 7. MANIFEST.md — регенерировать (1 файл)

После всех изменений запустить:
```bash
bash scripts/generate-manifest.sh /path/to/skill 7.0.1
```

Добавить в Changelog:
```markdown
### v7.0.1 (DATE)
- Fixed: Footer version drift in 21 files
- Fixed: self-diagnostic.sh false negative on SKILL.md check
- Fixed: self-diagnostic.md SSOT sync with SKILL.md naming
- Unchanged: All functionality, protocols, scripts logic
```

---

## Summary

| Metric | Value |
|--------|-------|
| Files changed | 25 |
| Lines changed | ~50 |
| Functional changes | 0 |
| Risk | None |

---

## Checklist

```
□ All 8 protocol footers updated
□ All 13 reference footers updated  
□ self-diagnostic.md section name fixed
□ self-diagnostic.sh grep pattern fixed
□ SKILL.md version bumped
□ README.md version bumped
□ MANIFEST.md regenerated with changelog
□ self-test passes 36/36
```

---

## Validation

После применения патча:
```bash
bash scripts/self-diagnostic.sh /path/to/skill-architect
# Expected: 36/36 PASSED
```

---

*v7.0.1-PLAN.md | skill-architect v7.0.0 → v7.0.1*
